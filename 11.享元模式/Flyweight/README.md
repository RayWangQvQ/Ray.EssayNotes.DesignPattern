# 享元模式

“享”是分享，“元”是对象，即利用共享技术有效的支持大量细粒度的对象，又称**蝇量模式**。

常用于系统底层开发，解决系统的性能问题。比如**数据库连接池**，里面都是创建好的连接对象，如果已经有我们需要的，则直接获取，不用重复创建；如果没有，则创建后保存。

所以享元模式可以解决重复对象的内存浪费问题。

其经典的应用场景就是池技术。

## 结构

* 抽象享元角色（Flyweight）：是所有的具体享元类的基类，为具体享元规范需要实现的公共接口，非享元的外部状态以参数的形式通过方法传入。
* 具体享元（Concrete Flyweight）角色：实现抽象享元角色中所规定的接口。
* 非享元（Unsharable Flyweight)角色：是不可以共享的外部状态，它以参数的形式注入具体享元的相关方法中。
* 享元工厂（Flyweight Factory）角色：负责创建和管理享元角色。当客户对象请求一个享元对象时，享元工厂检讼低持惺欠翊嬖诜合要求的享元对象，如果存在则提供给客户；如果不存在的话，则创建一个新的享元对象。
