# 简单工厂模式

## 说明

简单工厂模式（静态工厂模式）有争议，因为它并不在23种设计模式里，所以有人并不认为其是一种设计模式。

该sample是一个在控制台画图的小项目，用户输入形状名称，系统会打印出来。

## SimpleFactory1：普通实现

用于在控制台输入形状名称，该名称会传入AppService，AppService会根据名称创建对应的形状类，然后依次执行该形状的画图流程。

### 普通实现的缺点

* 单一职责不好：AppService本应只负责画图（打印）的业务逻辑，这里创建图形和打印操作混杂在一起

## SimpleFactory2：利用简单工厂模式重构优化

经典语录：** 任何软件工程遇到的问题都可以通过增加一个中间层来解决！ **

重构后，在AppService和图形之间加了一个工厂类，用于创建具体的图形类。

这样，就讲AppService里的负责根据输入创建不同具体图形的逻辑分离出来了。

## SimpleFactory3：讲简单工厂类改为静态类，并添加一个新的图形圆形

简单工厂模式又称静态工厂模式，因为工厂类完全可以改为静态类，这样可以更加简洁。

## 总结

### 简单工厂优点

* 单一指责更好

通过将创建的逻辑统一放到工厂中，利用工厂将“创建”与“使用”有效的进行了分离，逻辑更清晰。

### 简单工厂缺点

* 开闭原则不好

简单工厂只是将原来的创建逻辑提取出来放到了工厂类里统一管理，但当需求变更需要添加修改时，比如该sample中再添加一个图形，仍然需要去修改现有的工厂类。

而开闭原则运用好的程序应该是，当需要添加一个新图形时，尽量不要去修改已有的代码，而通过新增代码实现。

下面的【工厂方法】模式是为了解决这样的问题。